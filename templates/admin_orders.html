{% extends "base.html" %}
{% block content %}
<div class="admin-layout">
  <aside class="admin-sidebar">
    <h2>Admin<br>Dashboard</h2>
    <p class="admin-brand">Kanael Dessert Café</p>
    <nav class="admin-nav">
      <a href="{{ url_for('admin_dashboard') }}" class="admin-nav-link">Overview</a>
      <a href="{{ url_for('admin_menu') }}" class="admin-nav-link">Manage Menu</a>
      <a href="{{ url_for('admin_orders') }}" class="admin-nav-link active">View Orders</a>
      <a href="{{ url_for('admin_messages') }}" class="admin-nav-link">Messages</a>
    </nav>
  </aside>

  <section class="admin-main">
    <div class="admin-main-header">
      <h1>Orders</h1>
      <p>Recent orders placed through the Kanael Dessert Café site.</p>
    </div>

    <div class="admin-card">
      <table class="admin-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Customer</th>
            <th>Phone</th>
            <th>Total (£)</th>
            <th>Placed at</th>
          </tr>
        </thead>
        <tbody>
        {% for order in orders %}
          <tr>
            <td>{{ order.id }}</td>
            <td>{{ order.customer_name }}</td>
            <td>{{ order.phone }}</td>
            <td>{{ "%.2f"|format(order.total) }}</td>
            <td>{{ order.created_at }}</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  </section>
</div>
{% endblock %}