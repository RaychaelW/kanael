{% extends "base.html" %}
{% block content %}
<div class="admin-layout">
  <aside class="admin-sidebar">
    <h2>Admin<br>Dashboard</h2>
    <p class="admin-brand">Kanael Dessert CafÃ©</p>
    <nav class="admin-nav">
      <a href="{{ url_for('admin_dashboard') }}" class="admin-nav-link">Overview</a>
      <a href="{{ url_for('admin_menu') }}" class="admin-nav-link">Manage Menu</a>
      <a href="{{ url_for('admin_orders') }}" class="admin-nav-link">View Orders</a>
      <a href="{{ url_for('admin_messages') }}" class="admin-nav-link active">Messages</a>
    </nav>
  </aside>

  <section class="admin-main">
    <div class="admin-main-header">
      <h1>Messages</h1>
      <p>Feedback and enquiries submitted through the contact form.</p>
    </div>

    <div class="admin-card">
      <table class="admin-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Message</th>
            <th>Received</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
        {% for m in messages %}
          <tr>
            <td>{{ m.name }}</td>
            <td>{{ m.email }}</td>
            <td>{{ m.message }}</td>
            <td>{{ m.created_at }}</td>
            <td>
  <a href="{{ url_for('admin_view_message', msg_id=m.id) }}" class="btn">View</a>
</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  </section>
</div>
{% endblock %}